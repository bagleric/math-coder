webpackJsonp([2],{"0ByG":function(t,e){},"1l+U":function(t,e){},"1vyl":function(t,e,n){var s=n("7Mjc");t.exports=function(t,e){var n=-1,i=t.length,o=i-1;for(e=void 0===e?i:e;++n<e;){var r=s(n,o),u=t[r];t[r]=t[n],t[n]=u}return t.length=e,t}},"2xZY":function(t,e,n){var s=n("1vyl"),i=n("L8MQ");t.exports=function(t){return s(i(t))}},"9uKM":function(t,e,n){t.exports=n("309y")},DCjr:function(t,e){},RyI1:function(t,e,n){var s=n("lb6C"),i=n("eShC"),o=n("JyYQ"),r=n("NGEn");t.exports=function(t,e){return(r(t)?s:i)(t,o(e,3))}},Stc2:function(t,e,n){"use strict";var s=n("/nzc"),i=n("xIsL"),o={name:"AppQuestion",props:{question:{type:Object,required:!0}},data:function(){return{}},methods:{inputUpdated:function(t,e){console.log(t,e),this.$emit("input-changed",{index:t,input:e})}},computed:{c_isTesting:function(){return this.$store.getters.isTesting},c_containerStyle:function(){return this.question.containerStyle?this.question.containerStyle:""},c_inputStyle:function(){return this.question.inputStyle?this.question.inputStyle:""},c_textStyle:function(){return this.question.textStyle?this.question.textStyle:""}},updated:function(){console.log("Updated question",this.question)},components:{AppRenderHtml:s.a,AppAudio:i.a}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.c_isTesting?n("div",{staticClass:"question-info"},[n("div",[n("strong",[t._v("Standard:")]),t._v(" "+t._s(t.question.standard))]),t._v(" "),n("div",[t._v("Justification: "+t._s(t.question.justification))]),t._v(" "),n("v-divider")],1):t._e(),t._v(" "),n("div",{staticClass:"question-container"},[t.question.questionAudio?n("AppAudio",{ref:"prompt-sound",attrs:{source:t.question.questionAudio,playOnMounted:"",iconClass:"black--text"}}):t._e(),t._v(" "),n("div",{staticClass:"question"},[t.question.forQuestion?n("div",{staticClass:"question-text"},[t._v("\n          "+t._s(t.question.forQuestion)+"\n        ")]):t._e(),t._v(" "),n("div",{staticClass:"question-text"},[t._v("\n          "+t._s(t.question.question)+"\n        ")])]),t._v(" "),n("div",{staticClass:"question-input",style:t.c_containerStyle},t._l(t.question.inputs,function(e,s){return n("span",{key:s,style:e.isInput?t.c_inputStyle:t.c_textStyle},[e.isInput?n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"input.value"}],ref:"__"+e.name,refInFor:!0,attrs:{autocomplete:"off",name:e.name},domProps:{value:e.value},on:{focus:function(t){return t.target.select()},keyup:function(n){return t.inputUpdated(s,e)},input:function(n){n.target.composing||t.$set(e,"value",n.target.value)}}}):n("span",[n("AppRenderHtml",{attrs:{html:e.value}})],1)])}),0)],1)])},staticRenderFns:[]};var u=n("VU/8")(o,r,!1,function(t){n("DCjr")},"data-v-497e14a9",null).exports,c=n("vbIr"),a=n.n(c),p=n("oiih"),l=n("RyI1"),d=n.n(l),m=n("yG5q"),f={name:"AppForm",components:{AppQuestion:u},props:{test:Array,stepper:{type:Boolean,default:!1},shuffle:{type:Boolean,default:!1}},data:function(){return{formValues:{},iter:0,startTime:a.a.utc(p.e),isComplete:!1}},methods:{formUpdated:function(t){this.$emit("form-updated",t)},incrementIter:function(){this.startTime=a.a.utc(p.e),this.iter++},decrementIter:function(){this.iter>0&&this.iter--},submitHandler:function(t){this.$emit("form-complete",t)},answerQuestion:function(){this.submitQuestion(),this.incrementIter()},submitQuestion:function(){this.$emit("question-answered",{inputs:d()(this.c_question.inputs,"isInput"),stats:{startTime:this.startTime,endTime:a.a.utc(p.e)}})},submitForm:function(){this.isComplete=!0,this.answerQuestion(),this.$emit("form-complete",this.formValues)}},computed:{c_inputs:function(){return this.shuffle?m(this.test):this.test},c_inputsAsArrays:function(){for(var t=[],e=0;e<this.c_inputs.length;e++)t.push([this.c_inputs[e]]);return t},c_isLastIter:function(){return this.iter>=this.c_inputs.length-1},c_isFirstIter:function(){return 0===this.iter},c_question:function(){return this.test[this.iter]}}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isComplete?t._e():n("div",{staticClass:"app-form"},[t.stepper?n("div",{staticClass:"form-container"},[t.c_question?n("AppQuestion",{key:t.c_question.question,staticClass:"question",attrs:{question:t.c_question}}):t._e(),t._v(" "),n("span",{staticClass:"controls"},[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.c_isFirstIter,expression:"!c_isFirstIter"}],attrs:{text:"",color:"primary"},on:{click:t.decrementIter}},[t._v("Previous")]),t._v(" "),n("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:function(e){t.c_isLastIter?t.submitForm():t.answerQuestion()}}},[t._v("\n          Skip\n        ")]),t._v(" "),n("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.c_isLastIter?t.submitForm():t.answerQuestion()}}},[t._v("\n          Next\n        ")])],1)],1):n("div",{staticClass:"form-container"},[t._l(t.test,function(e,s){return n("span",{key:s},[n("AppQuestion",{staticClass:"question",attrs:{question:e}}),t._v(" "),n("v-divider")],1)}),t._v(" "),n("span",{staticClass:"controls"},[n("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:t.submitForm}},[t._v("Next")])],1)],2)])},staticRenderFns:[]};var h=n("VU/8")(f,v,!1,function(t){n("1l+U")},"data-v-7c687988",null).exports,_=n("9uKM"),y=n.n(_),q={name:"AppTestActivity",components:{AppForm:h,AppQuestion:u},props:{moduleId:{required:!0,type:String},test:{required:!0,type:String}},data:function(){return{}},computed:{theModule:function(){return this.module=this.$store.getters.getModule(this.$route.params.moduleId)},c_isPreTest:function(){return"pre"===this.test},c_isPostTest:function(){return"post"===this.test},c_test:function(){if(this.c_isPreTest)return d()(this.theModule.test,{testType:"pre"});if(this.c_isPostTest)return d()(this.theModule.test,{testType:"post"});throw Error("No test matches. Value must be 'pre' or 'post'")},c_viewAllQuestions:function(){return this.$store.getters.viewAllQuestions}},methods:{updateAnswer:function(t){this.c_test[0].inputs[t.index]=t.input},completeForm:function(){this.$emit("test-complete")},submitQuestion:function(t,e,n){return console.log("submitting question",e,n),this.$http.post(p.c,{user_id:t,question_id:e.name,value:e.value,start_time:n.startTime,end_time:n.endTime}).then(function(t){console.log("Pre Test submitted. Response:",t)}).catch(function(t){console.log(t)})},answerQuestion:function(t){var e=this;console.log({data:t});var n=this.$store.getters.userId;this.$store.getters.isTesting||y()(t.inputs,function(s){e.submitQuestion(n,{name:s.name,value:s.value},t.stats)})}}},g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"test"},[e("AppForm",{attrs:{test:this.c_test,stepper:!this.c_viewAllQuestions,shuffle:!this.c_viewAllQuestions},on:{"question-answered":this.answerQuestion,"form-complete":this.completeForm}})],1)},staticRenderFns:[]};var A=n("VU/8")(q,g,!1,function(t){n("0ByG")},"data-v-97019978",null);e.a=A.exports},ZtlQ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("Stc2"),i={name:"ViewPostActivity",props:{moduleId:{required:!0,type:String}},data:function(){return{}},components:{AppTestActivity:s.a},methods:{showDone:function(){this.$router.push({name:"Goodbye"})}}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"post-activity"},[e("AppTestActivity",{attrs:{moduleId:this.moduleId,test:"post"},on:{"test-complete":this.showDone}})],1)},staticRenderFns:[]};var r=n("VU/8")(i,o,!1,function(t){n("iyQb")},"data-v-bebc007a",null);e.default=r.exports},eShC:function(t,e,n){var s=n("v9aJ");t.exports=function(t,e){var n=[];return s(t,function(t,s,i){e(t,s,i)&&n.push(t)}),n}},gMbC:function(t,e,n){var s=n("hrPF"),i=n("1vyl");t.exports=function(t){return i(s(t))}},iyQb:function(t,e){},yG5q:function(t,e,n){var s=n("gMbC"),i=n("2xZY"),o=n("NGEn");t.exports=function(t){return(o(t)?s:i)(t)}}});
//# sourceMappingURL=2.68d63c920968c64ce976.js.map