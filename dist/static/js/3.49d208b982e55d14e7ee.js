webpackJsonp([3],{"0ByG":function(t,e){},"1vyl":function(t,e,n){var i=n("7Mjc");t.exports=function(t,e){var n=-1,s=t.length,r=s-1;for(e=void 0===e?s:e;++n<e;){var o=i(n,r),u=t[o];t[o]=t[n],t[n]=u}return t.length=e,t}},"2xZY":function(t,e,n){var i=n("1vyl"),s=n("L8MQ");t.exports=function(t){return i(s(t))}},"3TGi":function(t,e){},"9uKM":function(t,e,n){t.exports=n("309y")},NZEZ:function(t,e){},RyI1:function(t,e,n){var i=n("lb6C"),s=n("eShC"),r=n("JyYQ"),o=n("NGEn");t.exports=function(t,e){return(o(t)?i:s)(t,r(e,3))}},Stc2:function(t,e,n){"use strict";var i=n("/nzc"),s={name:"AppQuestion",props:{question:{type:Object,required:!0}},data:function(){return{}},methods:{inputUpdated:function(t,e){console.log(t,e),this.$emit("input-changed",{index:t,input:e})}},computed:{c_isTesting:function(){return this.$store.getters.isTesting},c_containerStyle:function(){return this.question.containerStyle?this.question.containerStyle:""},c_inputStyle:function(){return this.question.inputStyle?this.question.inputStyle:""},c_textStyle:function(){return this.question.textStyle?this.question.textStyle:""}},components:{AppRenderHtml:i.a}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.c_isTesting?n("div",[n("div",[n("strong",[t._v("Standard:")]),t._v(" "+t._s(t.question.standard))]),t._v(" "),n("div",[t._v("Justification: "+t._s(t.question.justification))]),t._v(" "),n("v-divider")],1):t._e(),t._v(" "),t.question.forQuestion?n("div",{staticClass:"question-text"},[t._v("\n      "+t._s(t.question.forQuestion)+"\n    ")]):t._e(),t._v(" "),n("div",{staticClass:"question-text"},[t._v("\n      "+t._s(t.question.question)+"\n    ")]),t._v(" "),n("div",{style:t.c_containerStyle},t._l(t.question.inputs,function(e,i){return n("span",{key:i,style:e.isInput?t.c_inputStyle:t.c_textStyle},[e.isInput?n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"input.value"}],ref:"__"+e.name,refInFor:!0,attrs:{autocomplete:"off",name:e.name},domProps:{value:e.value},on:{focus:function(t){return t.target.select()},keyup:function(n){return t.inputUpdated(i,e)},input:function(n){n.target.composing||t.$set(e,"value",n.target.value)}}}):n("span",[n("AppRenderHtml",{attrs:{html:e.value}})],1)])}),0)])},staticRenderFns:[]};var o=n("VU/8")(s,r,!1,function(t){n("NZEZ")},"data-v-5e6722e4",null).exports,u=n("vbIr"),c=n.n(u),a=n("oiih"),p=n("RyI1"),l=n.n(p),m=n("yG5q"),d={name:"AppForm",components:{AppQuestion:o},props:{test:Array,stepper:{type:Boolean,default:!1},shuffle:{type:Boolean,default:!1}},data:function(){return{formValues:{},iter:0,startTime:c.a.utc(a.e),isComplete:!1}},methods:{formUpdated:function(t){this.$emit("form-updated",t)},incrementIter:function(){this.startTime=c.a.utc(a.e),this.iter++},decrementIter:function(){this.iter>0&&this.iter--},submitHandler:function(t){this.$emit("form-complete",t)},answerQuestion:function(){this.submitQuestion(),this.incrementIter()},submitQuestion:function(){this.$emit("question-answered",{inputs:l()(this.c_question.inputs,"isInput"),stats:{startTime:this.startTime,endTime:c.a.utc(a.e)}})},submitForm:function(){this.isComplete=!0,this.answerQuestion(),this.$emit("form-complete",this.formValues)}},computed:{c_inputs:function(){return this.shuffle?m(this.test):this.test},c_inputsAsArrays:function(){for(var t=[],e=0;e<this.c_inputs.length;e++)t.push([this.c_inputs[e]]);return t},c_isLastIter:function(){return this.iter>=this.c_inputs.length-1},c_isFirstIter:function(){return 0===this.iter},c_question:function(){return this.test[this.iter]}}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isComplete?t._e():n("div",{staticClass:"app-form"},[t.stepper?n("div",{staticClass:"form-container"},[t.c_question?n("AppQuestion",{staticClass:"question",attrs:{question:t.c_question}}):t._e(),t._v(" "),n("span",{staticClass:"controls"},[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.c_isFirstIter,expression:"!c_isFirstIter"}],attrs:{text:"",color:"primary"},on:{click:t.decrementIter}},[t._v("Previous")]),t._v(" "),n("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:function(e){t.c_isLastIter?t.submitForm():t.answerQuestion()}}},[t._v("\n          Skip\n        ")]),t._v(" "),n("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.c_isLastIter?t.submitForm():t.answerQuestion()}}},[t._v("\n          Next\n        ")])],1)],1):n("div",{staticClass:"form-container"},[t._l(t.test,function(e,i){return n("span",{key:i},[n("AppQuestion",{staticClass:"question",attrs:{question:e}}),t._v(" "),n("v-divider")],1)}),t._v(" "),n("span",{staticClass:"controls"},[n("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:t.submitForm}},[t._v("Next")])],1)],2)])},staticRenderFns:[]};var v=n("VU/8")(d,f,!1,function(t){n("3TGi")},"data-v-11ad442e",null).exports,h=n("9uKM"),_=n.n(h),y={name:"AppTestActivity",components:{AppForm:v,AppQuestion:o},props:{moduleId:{required:!0,type:String},test:{required:!0,type:String}},data:function(){return{}},computed:{theModule:function(){return this.module=this.$store.getters.getModule(this.$route.params.moduleId)},c_isPreTest:function(){return"pre"===this.test},c_isPostTest:function(){return"post"===this.test},c_test:function(){if(this.c_isPreTest)return l()(this.theModule.test,{testType:"pre"});if(this.c_isPostTest)return l()(this.theModule.test,{testType:"post"});throw Error("No test matches. Value must be 'pre' or 'post'")},c_viewAllQuestions:function(){return this.$store.getters.viewAllQuestions}},methods:{updateAnswer:function(t){this.c_test[0].inputs[t.index]=t.input},completeForm:function(){this.$emit("test-complete")},submitQuestion:function(t,e,n){return console.log("submitting question",e,n),this.$http.post(a.c,{user_id:t,question_id:e.name,value:e.value,start_time:n.startTime,end_time:n.endTime}).then(function(t){console.log("Pre Test submitted. Response:",t)}).catch(function(t){console.log(t)})},answerQuestion:function(t){var e=this;console.log({data:t});var n=this.$store.getters.userId;this.$store.getters.isTesting||_()(t.inputs,function(i){e.submitQuestion(n,{name:i.name,value:i.value},t.stats)})}}},q={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"test"},[e("AppForm",{attrs:{test:this.c_test,stepper:!this.c_viewAllQuestions,shuffle:!this.c_viewAllQuestions},on:{"question-answered":this.answerQuestion,"form-complete":this.completeForm}})],1)},staticRenderFns:[]};var g=n("VU/8")(y,q,!1,function(t){n("0ByG")},"data-v-97019978",null);e.a=g.exports},VyRK:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Stc2"),s={name:"PreActivity",data:function(){return{}},props:{moduleId:{required:!0,type:String}},components:{AppTestActivity:i.a},methods:{goToActivity:function(){this.$router.push({name:"Activity",params:{moduleId:this.moduleId,activityNum:0}})}}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pre-activity-view"},[e("AppTestActivity",{attrs:{moduleId:this.moduleId,test:"pre"},on:{"test-complete":this.goToActivity}})],1)},staticRenderFns:[]};var o=n("VU/8")(s,r,!1,function(t){n("cR07")},"data-v-11033c3b",null);e.default=o.exports},cR07:function(t,e){},eShC:function(t,e,n){var i=n("v9aJ");t.exports=function(t,e){var n=[];return i(t,function(t,i,s){e(t,i,s)&&n.push(t)}),n}},gMbC:function(t,e,n){var i=n("hrPF"),s=n("1vyl");t.exports=function(t){return s(i(t))}},yG5q:function(t,e,n){var i=n("gMbC"),s=n("2xZY"),r=n("NGEn");t.exports=function(t){return(r(t)?i:s)(t)}}});
//# sourceMappingURL=3.49d208b982e55d14e7ee.js.map